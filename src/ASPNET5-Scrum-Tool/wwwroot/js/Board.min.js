var ActiveTask,AddColumn,AddTaskForm,BoardName,ColumnNameForm,PanelTitleClick,SubmitColumnForm,SubmitTaskForm,TaskForm;BoardName=$(".BoardNameHeading").text(),ColumnNameForm="<input class='PreviousColumnName' type='hidden'  style='display: none;' /> <input name='ColumnName' class='NewColumnName'> <input type='submit' value='Continue' class='ColumnTitleSubmit'>",TaskForm="<input name='TaskContent' class='TaskContent'> <input type='submit' value='Continue' class='TaskFormSubmit'>",ActiveTask=function(){return $("#MainColumn").on("mouseenter",".Task",function(n){return $(this).addClass("ActiveCard")}),$("#MainColumn").on("mouseleave",".Task",function(n){return $(this).removeClass("ActiveCard")})},PanelTitleClick=function(){return $("#MainColumn").on("click","div.panel-heading",function(){var n,t,e,a;return n=$(this).find(".NewColumnName"),0===n.length?(e=$(this).parent(),a=$(e).attr("id"),t=$(this).find(".panel-title").text(),$.ajax({url:"/Board/Show/"+BoardName,type:"GET",success:function(){var n,a,r;return n=$("#MainColumn").find(".NewColumnName"),0!==n.length&&(r=n.parent(),a=$(".PreviousColumnName").val(),r.html("<h3 class='panel-title'></h3>").text(a)),e.find(".panel-title").html(ColumnNameForm),$(".PreviousColumnName").val(t),$(".NewColumnName").val(t)}})):void 0})},SubmitColumnForm=function(){return $(".panel-heading").on("click","input.ColumnTitleSubmit",function(n){var t,e;return n.preventDefault(),t=$(".NewColumnName").val().trim(),e=$(this).parent().parent().attr("id"),$.ajax({url:"/Board/ChangeColumnName",type:"POST",data:{ColumnName:t,ColumnNumber:e},dataType:"json",success:function(n){var e;return e=$(".panel-heading").find(".NewColumnName").parent(),$(e).html("<h3 class='panel-title'> <h3>").text(t)},error:function(n){return alert("no good "+JSON.stringify(n))}})})},AddColumn=function(){return $("#AddColumnButton").on("click",function(n){var t,e;return n.preventDefault(),t=$("#MainColumn").children().last().prev().attr("id"),e="Something",$.ajax({url:"/Board/AddColumn",type:"POST",data:{ColumnName:e,ColumnID:t},success:function(n){return $("#AddColumnButton").before(n)},error:function(){return alert("Hit the error part")}})})},AddTaskForm=function(){return $("#MainColumn").on("click",".AddTask",function(n){var t,e,a,r;return n.preventDefault(),a=$(this).parent().parent(),t=$(a).find("TaskContent"),0===t.length?(r=$(a).attr("id"),e=$(this).prev(),$.ajax({url:"/Board/Show/"+BoardName,type:"GET",success:function(){var n,t;return n=$("#MainColumn").find(".TaskContent"),0!==n.length&&(t=n.parent(),t.find(".TaskContent").replaceWith("<a class='AddTask'> Add a task.... </a>"),t.find(".TaskFormSubmit").remove()),$(a).find(".AddTask").replaceWith(TaskForm)}})):void 0})},SubmitTaskForm=function(){return $("#MainColumn").on("click",".TaskFormSubmit",function(n){var t,e,a;return n.preventDefault(),t=$(".TaskContent").parent().parent().attr("id"),e=$(".TaskContent").val().trim(),a=$(".TaskContent").prev().attr("id"),"undefined"!=typeof TaskID&&null!==TaskID,$.ajax({url:"/Board/AddNewTask",type:"POST",data:{ParentColumnID:t,TaskID:a,TaskContent:e},success:function(n){return $(".TaskContent").replaceWith(n),$(".TaskFormSubmit").replaceWith('<a class="AddTask"> Add a task.... </a>')},error:function(n){return alert("no good "+JSON.stringify(n))}})})},$(document).ready(PanelTitleClick(),SubmitColumnForm(),AddTaskForm(),SubmitTaskForm(),AddColumn(),ActiveTask());